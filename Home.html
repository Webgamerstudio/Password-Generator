<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Meta Tags for SEO -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Generate secure passwords instantly. Customize length, character types, and strength. Free online password generator tool.">
  <meta name="keywords" content="password generator, secure password, random password, password creator, free password tool, online password maker">
  <meta name="author" content="QR Tools">
  <meta name="robots" content="index, follow">
  
  <!-- Open Graph Tags for Social Media -->
  <meta property="og:title" content="Password Generator - Free Online Tool">
  <meta property="og:description" content="Generate secure passwords with custom options. Include uppercase, lowercase, numbers, and symbols.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://yoursite.com/password-generator">
  <meta property="og:image" content="https://yoursite.com/images/password-generator-preview.jpg">
  
  <!-- Twitter Card Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Password Generator">
  <meta name="twitter:description" content="Generate secure passwords instantly">
  
  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üîê</text></svg>">
  
  <title>Password Generator - Free Online Secure Password Tool</title>
  
  <!-- Schema.org Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Password Generator",
    "description": "Generate secure passwords with custom length and character types. Include uppercase, lowercase, numbers, and symbols.",
    "url": "https://yoursite.com/password-generator",
    "applicationCategory": "UtilityApplication",
    "operatingSystem": "Any",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    }
  }
  </script>

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      line-height: 1.6;
      color: #333;
    }

    .container {
      background: #fff;
      padding: 20px;
      width: 100%;
      max-width: 800px;
      height: 100vh;
      overflow-y: auto;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      border-radius: 0;
      position: relative;
    }

    /* Ad Container Styles */
    .ad-container {
      margin: 20px 0;
      padding: 15px;
      background: #f8f9fa;
      border-radius: 12px;
      border: 2px solid #e9ecef;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 120px;
    }

    .ad-slot {
      display: none;
    }

    .ad-slot.active {
      display: block;
    }

    /* Header Section */
    .header {
      margin-bottom: 30px;
      padding: 20px 0;
      border-bottom: 2px solid #f0f0f0;
    }

    .header h1 {
      font-size: 28px;
      color: #333;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .header p {
      color: #666;
      font-size: 16px;
      max-width: 600px;
      margin: 0 auto;
    }

    /* Navigation Tabs */
    .tabs {
      display: grid;
      grid-template-columns: 1fr 1fr;
      grid-template-rows: auto auto;
      gap: 15px;
      justify-content: center;
      margin-bottom: 30px;
      padding: 0 20px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    .tab {
      padding: 12px 16px;
      background: #f8f9fa;
      border: 2px solid #e9ecef;
      border-radius: 12px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      transition: all 0.3s ease;
      color: #666;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      text-decoration: none;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .tab.active {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border-color: #667eea;
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
      transform: translateY(-2px);
    }

    .tab:hover:not(.active) {
      background: #e9ecef;
      transform: translateY(-1px);
      border-color: #667eea;
    }

    /* Grid Layout for Tabs */
    .tab:nth-child(1) { grid-column: 1; grid-row: 1; } /* Scanner */
    .tab:nth-child(2) { grid-column: 2; grid-row: 1; } /* Generator */
    .tab:nth-child(3) { grid-column: 1; grid-row: 2; } /* Upload */
    .tab:nth-child(4) { grid-column: 2; grid-row: 2; } /* History */

    /* Tab Content */
    .tab-content {
      display: none;
      animation: fadeIn 0.6s ease;
    }

    .tab-content.active {
      display: block;
    }

    @keyframes fadeIn {
      from { 
        opacity: 0; 
        transform: translateY(20px); 
      }
      to { 
        opacity: 1; 
        transform: translateY(0); 
      }
    }

    /* Section Titles */
    .section-title {
      margin-bottom: 25px;
      color: #333;
      font-size: 24px;
      font-weight: 700;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    /* Password Display */
    .password-display {
      margin: 25px auto;
      padding: 25px;
      background: #f8f9fa;
      border-radius: 15px;
      border: 2px solid #e9ecef;
      max-width: 600px;
      text-align: left;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
    }

    .password-text {
      color: #333;
      word-break: break-word;
      flex: 1;
      background: rgba(255,255,255,0.7);
      padding: 8px 12px;
      border-radius: 8px;
      font-family: monospace;
      font-size: 16px;
    }

    .password-placeholder {
      color: #666;
    }

    /* Controls Section */
    .controls-section {
      max-width: 600px;
      margin: 0 auto;
    }

    .control-group {
      margin-bottom: 25px;
    }

    .control-label {
      display: block;
      margin-bottom: 10px;
      font-weight: 600;
      color: #333;
      font-size: 16px;
    }

    .slider-container {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .slider {
      flex: 1;
      -webkit-appearance: none;
      height: 8px;
      background: #e9ecef;
      border-radius: 5px;
      outline: none;
    }

    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 20px;
      height: 20px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      border-radius: 50%;
      cursor: pointer;
    }

    .length-display {
      background: #f8f9fa;
      padding: 8px 15px;
      border-radius: 8px;
      font-weight: 600;
      color: #333;
      min-width: 50px;
      text-align: center;
      border: 2px solid #e9ecef;
    }

    .checkbox-group {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 15px;
    }

    .checkbox-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 16px;
      background: #f8f9fa;
      border: 2px solid #e9ecef;
      border-radius: 12px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      color: #666;
      transition: all 0.3s ease;
    }

    .checkbox-item input[type="checkbox"] {
      width: 20px;
      height: 20px;
      accent-color: #667eea;
    }

    .checkbox-item:hover {
      background: #e9ecef;
      border-color: #667eea;
    }

    /* Action Buttons */
    .action-buttons {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 25px;
    }

    .action-buttons button {
      padding: 10px 20px;
      font-size: 14px;
      font-weight: 600;
      border-radius: 8px;
      transition: all 0.3s ease;
    }

    button {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border: none;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      padding: 14px 28px;
      border-radius: 12px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
    }

    .btn-secondary {
      background: linear-gradient(135deg, #28a745, #20c997);
    }

    .btn-save {
      background: linear-gradient(135deg, #007bff, #0056b3);
    }

    /* Strength Meter */
    .strength-meter {
      margin-top: 25px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 15px;
      border: 2px solid #e9ecef;
      max-width: 600px;
      margin: 25px auto;
    }

    .strength-label {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 10px;
    }

    .strength-bar {
      height: 8px;
      background: #e9ecef;
      border-radius: 4px;
    }

    .strength-fill {
      height: 100%;
      border-radius: 4px;
      transition: width 0.3s ease;
    }

    .strength-weak { background: #dc3545; }
    .strength-fair { background: #ffc107; }
    .strength-good { background: #28a745; }
    .strength-strong { background: #007bff; }

    /* Saved Passwords */
    .saved-passwords {
      margin-top: 40px;
      padding: 30px 20px;
      background: linear-gradient(145deg, #f8f9ff, #f0f2ff);
      border-radius: 15px;
      border: 1px solid #e9ecef;
    }

    .saved-title {
      color: #333;
      margin-bottom: 20px;
      font-size: 22px;
      font-weight: 700;
    }

    .btn-copy-all {
      margin-bottom: 20px;
      display: block;
      width: fit-content;
      margin: 0 auto 20px;
    }

    .password-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      margin-bottom: 15px;
      transition: transform 0.3s ease;
    }

    .password-item:hover {
      transform: translateY(-5px);
    }

    .password-info {
      flex: 1;
    }

    .password-value {
      font-family: monospace;
      font-size: 16px;
      margin-bottom: 5px;
    }

    .password-meta {
      font-size: 14px;
      color: #666;
    }

    .password-actions {
      display: flex;
      gap: 10px;
    }

    .btn-small {
      padding: 8px 16px;
      font-size: 13px;
    }

    .btn-copy {
      background: linear-gradient(135deg, #28a745, #20c997);
    }

    .btn-delete {
      background: linear-gradient(135deg, #dc3545, #c82333);
    }

    .empty-state {
      text-align: center;
      color: #666;
      font-size: 16px;
      padding: 20px;
    }

    /* Save Modal */
    .save-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .save-modal.active {
      display: flex;
    }

    .modal-content {
      background: white;
      padding: 25px;
      border-radius: 15px;
      max-width: 400px;
      width: 90%;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }

    .modal-title {
      font-size: 20px;
      margin-bottom: 15px;
    }

    .modal-input {
      width: 100%;
      padding: 12px;
      border: 2px solid #e9ecef;
      border-radius: 12px;
      margin-bottom: 15px;
    }

    .modal-buttons {
      display: flex;
      gap: 10px;
    }

    /* Toast */
    .toast {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      padding: 12px 24px;
      border-radius: 12px;
      color: white;
      font-weight: 600;
      z-index: 1000;
      display: none;
    }

    .toast.show {
      display: block;
    }

    .toast.success {
      background: linear-gradient(135deg, #28a745, #20c997);
    }

    .toast.error {
      background: linear-gradient(135deg, #dc3545, #c82333);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .container {
        padding: 15px;
      }
      
      .header h1 {
        font-size: 24px;
      }
      
      .tabs {
        grid-template-columns: 1fr;
        gap: 10px;
      }
      
      .tab {
        padding: 10px 14px;
        font-size: 13px;
      }
      
      .checkbox-group {
        grid-template-columns: 1fr;
      }
      
      .action-buttons {
        flex-direction: column;
      }
      
      .password-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
      }
      
      .password-actions {
        width: 100%;
        justify-content: flex-end;
      }
      
      .section-title {
        font-size: 20px;
      }
      
      .saved-title {
        font-size: 18px;
      }

      .ad-container {
        margin: 15px 0;
        padding: 10px;
      }
    }

    @media (max-width: 480px) {
      .container {
        padding: 10px;
      }
      
      .header {
        padding: 15px 0;
      }
      
      .header h1 {
        font-size: 20px;
        flex-direction: column;
        gap: 5px;
      }
      
      .header p {
        font-size: 14px;
      }
      
      .password-text {
        font-size: 14px;
      }
    }

    /* Accessibility Improvements */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    /* Focus Styles */
    button:focus,
    input:focus,
    .tab:focus {
      outline: 3px solid #667eea;
      outline-offset: 2px;
    }

    /* Print Styles */
    @media print {
      body {
        background: white;
      }
      
      .container {
        box-shadow: none;
        height: auto;
      }
      
      .tabs {
        display: none;
      }
      
      button {
        display: none;
      }

      .ad-container {
        display: none;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header Section -->
    <header class="header">
      <h1>
        <span>üîê</span>
        Password Generator
      </h1>
      <p>Generate secure passwords with custom options. Include uppercase, lowercase, numbers, and symbols.</p>
    </header>

    <!-- First Ad Container (After Header) -->
    <div class="ad-container">
      <div class="ad-slot" id="ad1">
        <script type="text/javascript">
        atOptions = {
        'key' : '63718988f07bc6d276f3c6a441757cae',
        'format' : 'iframe',
        'height' : 90,
        'width' : 728,
        'params' : {}
        };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/63718988f07bc6d276f3c6a441757cae/invoke.js"></script>
      </div>
      
      <div class="ad-slot" id="ad2">
        <script type="text/javascript">
        atOptions = {
        'key' : 'c620af328467e6de19dc04af696ee0fb',
        'format' : 'iframe',
        'height' : 250,
        'width' : 300,
        'params' : {}
        };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/c620af328467e6de19dc04af696ee0fb/invoke.js"></script>
      </div>
      
      <div class="ad-slot" id="ad3">
        <script type="text/javascript">
        atOptions = {
        'key' : '78ade24182729fceea8e45203dad915b',
        'format' : 'iframe',
        'height' : 50,
        'width' : 320,
        'params' : {}
        };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/78ade24182729fceea8e45203dad915b/invoke.js"></script>
      </div>
    </div>

    <!-- Navigation Tabs -->
    <nav class="tabs" role="navigation" aria-label="Main navigation">
      <a href="https://webgamerstudio.github.io/Advanced-QR-Code-Tools/Home.html" class="tab" role="button" aria-label="Camera Scanner">
        <span>üì∑</span>
        <span>Camera Scanner</span>
      </a>
      <a href="https://webgamerstudio.github.io/Advanced-QR-Code-Tools/generator.html" class="tab" role="button" aria-label="QR Generator">
        <span>üîó</span>
        <span>QR Generator</span>
      </a>
      <a href="https://webgamerstudio.github.io/Advanced-QR-Code-Tools/upload.html" class="tab" role="button" aria-label="Upload Image">
        <span>üìÇ</span>
        <span>Upload Image</span>
      </a>
      <a href="https://webgamerstudio.github.io/Advanced-QR-Code-Tools/Home.html#history" class="tab" role="button" aria-label="Scan History">
        <span>üìä</span>
        <span>Scan History</span>
      </a>
    </nav>

    <!-- Password Generator Content -->
    <main id="password" class="tab-content active">
      <h2 class="section-title">
        <span>üîê</span>
        Secure Password Generator
      </h2>
      
      <div class="password-display">
        <span class="password-text" id="passwordOutput">Generated password will appear here</span>
      </div>
      
      <div class="controls-section">
        <div class="control-group">
          <label class="control-label">Length</label>
          <div class="slider-container">
            <input type="range" class="slider" id="lengthSlider" min="4" max="32" value="12" aria-label="Password length slider">
            <div class="length-display" id="lengthDisplay">12</div>
          </div>
        </div>
        
        <div class="control-group">
          <label class="control-label">Character Types</label>
          <div class="checkbox-group">
            <label class="checkbox-item">
              <input type="checkbox" id="uppercase" checked aria-label="Include uppercase letters">
              Uppercase
            </label>
            <label class="checkbox-item">
              <input type="checkbox" id="lowercase" checked aria-label="Include lowercase letters">
              Lowercase
            </label>
            <label class="checkbox-item">
              <input type="checkbox" id="numbers" checked aria-label="Include numbers">
              Numbers
            </label>
            <label class="checkbox-item">
              <input type="checkbox" id="symbols" checked aria-label="Include symbols">
              Symbols
            </label>
          </div>
        </div>
      </div>
      
      <div class="action-buttons">
        <button id="generateBtn">Generate</button>
        <button class="btn-secondary" id="copyBtn">Copy</button>
        <button class="btn-save" id="saveBtn">Save</button>
      </div>
      
      <div class="strength-meter">
        <div class="strength-label" id="strengthLabel">Password Strength</div>
        <div class="strength-bar">
          <div class="strength-fill" id="strengthFill"></div>
        </div>
      </div>

      <!-- Second Ad Container (After Strength Meter) -->
      <div class="ad-container">
        <div class="ad-slot" id="ad4">
          <script type="text/javascript">
          atOptions = {
          'key' : '63718988f07bc6d276f3c6a441757cae',
          'format' : 'iframe',
          'height' : 90,
          'width' : 728,
          'params' : {}
          };
          </script>
          <script type="text/javascript" src="//www.highperformanceformat.com/63718988f07bc6d276f3c6a441757cae/invoke.js"></script>
        </div>
        
        <div class="ad-slot" id="ad5">
          <script type="text/javascript">
          atOptions = {
          'key' : 'c620af328467e6de19dc04af696ee0fb',
          'format' : 'iframe',
          'height' : 250,
          'width' : 300,
          'params' : {}
          };
          </script>
          <script type="text/javascript" src="//www.highperformanceformat.com/c620af328467e6de19dc04af696ee0fb/invoke.js"></script>
        </div>
        
        <div class="ad-slot" id="ad6">
          <script type="text/javascript">
          atOptions = {
          'key' : '78ade24182729fceea8e45203dad915b',
          'format' : 'iframe',
          'height' : 50,
          'width' : 320,
          'params' : {}
          };
          </script>
          <script type="text/javascript" src="//www.highperformanceformat.com/78ade24182729fceea8e45203dad915b/invoke.js"></script>
        </div>
      </div>
      
      <section class="saved-passwords">
        <h3 class="saved-title">Saved Passwords</h3>
        <button class="btn-copy-all" id="copyAllBtn">Copy All</button>
        <div id="savedPasswordsList"></div>
      </section>
    </main>

    <!-- Save Modal -->
    <div class="save-modal" id="saveModal">
      <div class="modal-content">
        <h3 class="modal-title">Save Password</h3>
        <input type="text" class="modal-input" id="passwordLabel" placeholder="Enter label (e.g., Email)" aria-label="Password label">
        <div class="modal-buttons">
          <button class="btn-secondary" id="cancelSaveBtn">Cancel</button>
          <button id="confirmSaveBtn">Save</button>
        </div>
      </div>
    </div>

    <div class="toast" id="toast"></div>
  </div>

  <script>
    // Ad Rotation System
    class AdRotation {
      constructor() {
        this.adGroups = [
          ['ad1', 'ad2', 'ad3'],  // First ad container
          ['ad4', 'ad5', 'ad6']   // Second ad container
        ];
        this.currentIndices = [0, 0]; // Track current ad for each group
        this.rotationInterval = 30000; // 30 seconds
        
        this.init();
      }

      init() {
        // Show initial ads
        this.showAds();
        
        // Start rotation
        setInterval(() => {
          this.rotateAds();
        }, this.rotationInterval);
      }

      showAds() {
        this.adGroups.forEach((group, groupIndex) => {
          const currentAdIndex = this.currentIndices[groupIndex];
          group.forEach((adId, index) => {
            const adElement = document.getElementById(adId);
            if (adElement) {
              if (index === currentAdIndex) {
                adElement.classList.add('active');
              } else {
                adElement.classList.remove('active');
              }
            }
          });
        });
      }

      rotateAds() {
        this.adGroups.forEach((group, groupIndex) => {
          this.currentIndices[groupIndex] = (this.currentIndices[groupIndex] + 1) % group.length;
        });
        this.showAds();
      }
    }

    // Password Generator Class
    class PasswordGenerator {
      constructor() {
        this.savedPasswords = this.getSavedPasswords();
        this.currentPassword = '';
        this.initializeElements();
        this.bindEvents();
        this.generatePassword();
        this.renderSavedPasswords();
        this.adRotation = new AdRotation();
      }

      getSavedPasswords() {
        try {
          return JSON.parse(localStorage.getItem('savedPasswords') || '[]');
        } catch (e) {
          return [];
        }
      }

      savePasswords() {
        try {
          localStorage.setItem('savedPasswords', JSON.stringify(this.savedPasswords));
        } catch (e) {
          this.showToast('Error saving passwords', 'error');
        }
      }

      initializeElements() {
        this.lengthSlider = document.getElementById('lengthSlider');
        this.lengthDisplay = document.getElementById('lengthDisplay');
        this.uppercaseCheckbox = document.getElementById('uppercase');
        this.lowercaseCheckbox = document.getElementById('lowercase');
        this.numbersCheckbox = document.getElementById('numbers');
        this.symbolsCheckbox = document.getElementById('symbols');
        this.generateBtn = document.getElementById('generateBtn');
        this.copyBtn = document.getElementById('copyBtn');
        this.saveBtn = document.getElementById('saveBtn');
        this.copyAllBtn = document.getElementById('copyAllBtn');
        this.passwordOutput = document.getElementById('passwordOutput');
        this.strengthLabel = document.getElementById('strengthLabel');
        this.strengthFill = document.getElementById('strengthFill');
        this.saveModal = document.getElementById('saveModal');
        this.passwordLabelInput = document.getElementById('passwordLabel');
        this.cancelSaveBtn = document.getElementById('cancelSaveBtn');
        this.confirmSaveBtn = document.getElementById('confirmSaveBtn');
        this.savedPasswordsList = document.getElementById('savedPasswordsList');
        this.toast = document.getElementById('toast');
      }

      bindEvents() {
        this.lengthSlider.addEventListener('input', () => {
          this.lengthDisplay.textContent = this.lengthSlider.value;
          this.generatePassword();
        });

        this.uppercaseCheckbox.addEventListener('change', () => this.generatePassword());
        this.lowercaseCheckbox.addEventListener('change', () => this.generatePassword());
        this.numbersCheckbox.addEventListener('change', () => this.generatePassword());
        this.symbolsCheckbox.addEventListener('change', () => this.generatePassword());

        this.generateBtn.addEventListener('click', () => this.generatePassword());
        this.copyBtn.addEventListener('click', () => this.copyPassword());
        this.saveBtn.addEventListener('click', () => this.openSaveModal());
        this.copyAllBtn.addEventListener('click', () => this.copyAllPasswords());
        this.cancelSaveBtn.addEventListener('click', () => this.closeSaveModal());
        this.confirmSaveBtn.addEventListener('click', () => this.savePassword());
      }

      generatePassword() {
        const length = parseInt(this.lengthSlider.value);
        const includeUppercase = this.uppercaseCheckbox.checked;
        const includeLowercase = this.lowercaseCheckbox.checked;
        const includeNumbers = this.numbersCheckbox.checked;
        const includeSymbols = this.symbolsCheckbox.checked;

        if (!includeUppercase && !includeLowercase && !includeNumbers && !includeSymbols) {
          this.showToast('Please select at least one character type', 'error');
          this.passwordOutput.textContent = 'Select at least one option';
          this.updateStrengthMeter(0);
          return;
        }

        const uppercase = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
        const lowercase = 'abcdefghijklmnopqrstuvwxyz';
        const numbers = '0123456789';
        const symbols = '!@#$%^&*()_+-=[]{}|;:,.<>?';

        let chars = '';
        if (includeUppercase) chars += uppercase;
        if (includeLowercase) chars += lowercase;
        if (includeNumbers) chars += numbers;
        if (includeSymbols) chars += symbols;

        let password = '';
        for (let i = 0; i < length; i++) {
          const randomIndex = Math.floor(Math.random() * chars.length);
          password += chars[randomIndex];
        }

        this.currentPassword = password;
        this.passwordOutput.textContent = password;
        this.updateStrengthMeter(this.calculateStrength(password));
      }

      calculateStrength(password) {
        let score = 0;
        const length = password.length;

        // Length scoring
        if (length >= 8) score += 25;
        if (length >= 12) score += 25;

        // Character type scoring
        if (/[A-Z]/.test(password)) score += 15;
        if (/[a-z]/.test(password)) score += 15;
        if (/[0-9]/.test(password)) score += 15;
        if (/[^A-Za-z0-9]/.test(password)) score += 15;

        // Additional complexity
        if (length >= 16 && /[A-Z]/.test(password) && /[a-z]/.test(password) && /[0-9]/.test(password) && /[^A-Za-z0-9]/.test(password)) {
          score += 10;
        }

        return Math.min(score, 100);
      }

      updateStrengthMeter(score) {
        let strengthText = 'Weak';
        let strengthClass = 'strength-weak';

        if (score >= 80) {
          strengthText = 'Strong';
          strengthClass = 'strength-strong';
        } else if (score >= 60) {
          strengthText = 'Good';
          strengthClass = 'strength-good';
        } else if (score >= 40) {
          strengthText = 'Fair';
          strengthClass = 'strength-fair';
        }

        this.strengthLabel.textContent = `Password Strength: ${strengthText}`;
        this.strengthFill.style.width = `${score}%`;
        this.strengthFill.className = `strength-fill ${strengthClass}`;
      }

      copyPassword() {
        if (!this.currentPassword) {
          this.showToast('No password to copy', 'error');
          return;
        }

        navigator.clipboard.writeText(this.currentPassword)
          .then(() => this.showToast('Password copied to clipboard', 'success'))
          .catch(() => this.showToast('Failed to copy password', 'error'));
      }

      copyAllPasswords() {
        if (this.savedPasswords.length === 0) {
          this.showToast('No saved passwords to copy', 'error');
          return;
        }

        const allPasswords = this.savedPasswords
          .map(p => `${p.label}: ${p.password}`)
          .join('\n');

        navigator.clipboard.writeText(allPasswords)
          .then(() => this.showToast('All passwords copied to clipboard', 'success'))
          .catch(() => this.showToast('Failed to copy passwords', 'error'));
      }

      openSaveModal() {
        if (!this.currentPassword) {
          this.showToast('Generate a password first', 'error');
          return;
        }
        this.saveModal.classList.add('active');
        this.passwordLabelInput.focus();
      }

      closeSaveModal() {
        this.saveModal.classList.remove('active');
        this.passwordLabelInput.value = '';
      }

      savePassword() {
        const label = this.passwordLabelInput.value.trim();
        if (!label) {
          this.showToast('Please enter a label', 'error');
          return;
        }

        this.savedPasswords.push({
          label,
          password: this.currentPassword,
          date: new Date().toLocaleString()
        });

        this.savePasswords();
        this.renderSavedPasswords();
        this.closeSaveModal();
        this.showToast('Password saved successfully', 'success');
      }

      deletePassword(index) {
        this.savedPasswords.splice(index, 1);
        this.savePasswords();
        this.renderSavedPasswords();
        this.showToast('Password deleted', 'success');
      }

      renderSavedPasswords() {
        this.savedPasswordsList.innerHTML = '';
        if (this.savedPasswords.length === 0) {
          this.savedPasswordsList.innerHTML = '<div class="empty-state">No saved passwords yet.</div>';
          return;
        }

        this.savedPasswords.forEach((item, index) => {
          const passwordItem = document.createElement('div');
          passwordItem.className = 'password-item';
          passwordItem.innerHTML = `
            <div class="password-info">
              <div class="password-value">${item.password}</div>
              <div class="password-meta">${item.label} - ${item.date}</div>
            </div>
            <div class="password-actions">
              <button class="btn-small btn-copy" data-index="${index}">Copy</button>
              <button class="btn-small btn-delete" data-index="${index}">Delete</button>
            </div>
          `;
          this.savedPasswordsList.appendChild(passwordItem);
        });

        // Add event listeners for copy and delete buttons
        this.savedPasswordsList.querySelectorAll('.btn-copy').forEach(btn => {
          btn.addEventListener('click', (e) => {
            const index = e.target.dataset.index;
            const password = this.savedPasswords[index].password;
            navigator.clipboard.writeText(password)
              .then(() => this.showToast('Password copied to clipboard', 'success'))
              .catch(() => this.showToast('Failed to copy password', 'error'));
          });
        });

        this.savedPasswordsList.querySelectorAll('.btn-delete').forEach(btn => {
          btn.addEventListener('click', (e) => {
            const index = e.target.dataset.index;
            this.deletePassword(index);
          });
        });
      }

      showToast(message, type) {
        this.toast.textContent = message;
        this.toast.className = `toast show ${type}`;
        setTimeout(() => {
          this.toast.className = 'toast';
        }, 3000);
      }
    }

    // Initialize the password generator
    document.addEventListener('DOMContentLoaded', () => {
      new PasswordGenerator();
    });
  </script>
</body>
</html>
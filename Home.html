<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Generate secure passwords instantly. Customize length, character types, and strength. Free online password generator tool.">
  <meta name="keywords" content="password generator, secure password, random password, password creator, free password tool, online password maker">
  <meta name="author" content="QR Tools">
  <meta name="robots" content="index, follow">
  
  <meta property="og:title" content="Password Generator - Free Online Tool">
  <meta property="og:description" content="Generate secure passwords with custom options. Include uppercase, lowercase, numbers, and symbols.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://yoursite.com/password-generator">
  <meta property="og:image" content="https://yoursite.com/images/password-generator-preview.jpg">
  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Password Generator">
  <meta name="twitter:description" content="Generate secure passwords instantly">
  
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üîê</text></svg>">
  
  <title>Password Generator - Free Online Secure Password Tool</title>
  
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Password Generator",
    "description": "Generate secure passwords with custom length and character types. Include uppercase, lowercase, numbers, and symbols.",
    "url": "https://yoursite.com/password-generator",
    "applicationCategory": "UtilityApplication",
    "operatingSystem": "Any",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    }
  }
  </script>

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      line-height: 1.6;
      color: #333;
    }

    .container {
      background: #fff;
      padding: 20px;
      width: 100%;
      max-width: 800px;
      height: 100vh;
      overflow-y: auto;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      border-radius: 0;
      position: relative;
    }

    .header {
      margin-bottom: 30px;
      padding: 20px 0;
      border-bottom: 2px solid #f0f0f0;
    }

    .header h1 {
      font-size: 28px;
      color: #333;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .header p {
      color: #666;
      font-size: 16px;
      max-width: 600px;
      margin: 0 auto;
    }

    .ad-container {
      margin: 20px auto;
      max-width: 728px;
      text-align: center;
      min-height: 90px;
      position: relative;
      overflow: hidden;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      background: #f8f9fa;
      display: none; /* Hidden by default until an ad loads */
    }

    .ad-container.active {
      display: block; /* Show when an ad is successfully loaded */
    }

    .ad-container .ad-slot {
      display: none;
    }

    .ad-container .ad-slot.active {
      display: block;
    }

    .ad-container .ad-fallback {
      display: none;
      color: #666;
      font-size: 14px;
      padding: 20px;
      text-align: center;
    }

    .ad-container.no-ads .ad-fallback {
      display: block;
    }

    .tabs {
      display: grid;
      grid-template-columns: 1fr 1fr;
      grid-template-rows: auto auto;
      gap: 15px;
      justify-content: center;
      margin-bottom: 30px;
      padding: 0 20px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    .tab {
      padding: 12px 16px;
      background: #f8f9fa;
      border: 2px solid #e9ecef;
      border-radius: 12px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      transition: all 0.3s ease;
      color: #666;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      text-decoration: none;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .tab.active {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border-color: #667eea;
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
      transform: translateY(-2px);
    }

    .tab:hover:not(.active) {
      background: #e9ecef;
      transform: translateY(-1px);
      border-color: #667eea;
    }

    .tab:nth-child(1) { grid-column: 1; grid-row: 1; }
    .tab:nth-child(2) { grid-column: 2; grid-row: 1; }
    .tab:nth-child(3) { grid-column: 1; grid-row: 2; }
    .tab:nth-child(4) { grid-column: 2; grid-row: 2; }

    .tab-content {
      display: none;
      animation: fadeIn 0.6s ease;
    }

    .tab-content.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .section-title {
      margin-bottom: 25px;
      color: #333;
      font-size: 24px;
      font-weight: 700;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .password-display {
      margin: 25px auto;
      padding: 25px;
      background: #f8f9fa;
      border-radius: 15px;
      border: 2px solid #e9ecef;
      max-width: 600px;
      text-align: left;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
    }

    .password-text {
      color: #333;
      word-break: break-word;
      flex: 1;
      background: rgba(255,255,255,0.7);
      padding: 8px 12px;
      border-radius: 8px;
      font-family: monospace;
      font-size: 16px;
    }

    .password-placeholder {
      color: #666;
    }

    .controls-section {
      max-width: 600px;
      margin: 0 auto;
    }

    .control-group {
      margin-bottom: 25px;
    }

    .control-label {
      display: block;
      margin-bottom: 10px;
      font-weight: 600;
      color: #333;
      font-size: 16px;
    }

    .slider-container {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .slider {
      flex: 1;
      -webkit-appearance: none;
      height: 8px;
      background: #e9ecef;
      border-radius: 5px;
      outline: none;
    }

    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 20px;
      height: 20px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      border-radius: 50%;
      cursor: pointer;
    }

    .length-display {
      background: #f8f9fa;
      padding: 8px 15px;
      border-radius: 8px;
      font-weight: 600;
      color: #333;
      min-width: 50px;
      text-align: center;
      border: 2px solid #e9ecef;
    }

    .checkbox-group {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 15px;
    }

    .checkbox-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 16px;
      background: #f8f9fa;
      border: 2px solid #e9ecef;
      border-radius: 12px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      color: #666;
      transition: all 0.3s ease;
    }

    .checkbox-item input[type="checkbox"] {
      width: 20px;
      height: 20px;
      accent-color: #667eea;
    }

    .checkbox-item:hover {
      background: #e9ecef;
      border-color: #667eea;
    }

    .action-buttons {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 25px;
    }

    button {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border: none;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      padding: 14px 28px;
      border-radius: 12px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
    }

    .btn-secondary {
      background: linear-gradient(135deg, #28a745, #20c997);
    }

    .btn-save {
      background: linear-gradient(135deg, #007bff, #0056b3);
    }

    .strength-meter {
      margin-top: 25px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 15px;
      border: 2px solid #e9ecef;
      max-width: 600px;
      margin: 25px auto;
    }

    .strength-label {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 10px;
    }

    .strength-bar {
      height: 8px;
      background: #e9ecef;
      border-radius: 4px;
    }

    .strength-fill {
      height: 100%;
      border-radius: 4px;
      transition: width 0.3s ease;
    }

    .strength-weak { background: #dc3545; }
    .strength-fair { background: #ffc107; }
    .strength-good { background: #28a745; }
    .strength-strong { background: #007bff; }

    .saved-passwords {
      margin-top: 40px;
      padding: 30px 20px;
      background: linear-gradient(145deg, #f8f9ff, #f0f2ff);
      border-radius: 15px;
      border: 1px solid #e9ecef;
    }

    .saved-title {
      color: #333;
      margin-bottom: 20px;
      font-size: 22px;
      font-weight: 700;
    }

    .btn-copy-all {
      margin-bottom: 20px;
      display: block;
      width: fit-content;
      margin: 0 auto 20px;
    }

    .password-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      margin-bottom: 15px;
      transition: transform 0.3s ease;
    }

    .password-item:hover {
      transform: translateY(-5px);
    }

    .password-info {
      flex: 1;
    }

    .password-value {
      font-family: monospace;
      font-size: 16px;
      margin-bottom: 5px;
    }

    .password-meta {
      font-size: 14px;
      color: #666;
    }

    .password-actions {
      display: flex;
      gap: 10px;
    }

    .btn-small {
      padding: 8px 16px;
      font-size: 13px;
    }

    .btn-copy {
      background: linear-gradient(135deg, #28a745, #20c997);
      color: white;
    }

    .btn-delete {
      background: linear-gradient(135deg, #dc3545, #c82333);
      color: white;
    }

    .empty-state {
      text-align: center;
      color: #666;
      font-size: 16px;
      padding: 20px;
    }

    .save-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .save-modal.active {
      display: flex;
    }

    .modal-content {
      background: white;
      padding: 25px;
      border-radius: 15px;
      max-width: 400px;
      width: 90%;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }

    .modal-title {
      font-size: 20px;
      margin-bottom: 15px;
    }

    .modal-input {
      width: 100%;
      padding: 12px;
      border: 2px solid #e9ecef;
      border-radius: 12px;
      margin-bottom: 15px;
    }

    .modal-buttons {
      display: flex;
      gap: 10px;
    }

    .toast {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      padding: 12px 24px;
      border-radius: 12px;
      color: white;
      font-weight: 600;
      z-index: 1000;
      display: none;
    }

    .toast.show {
      display: block;
    }

    .toast.success {
      background: linear-gradient(135deg, #28a745, #20c997);
    }

    .toast.error {
      background: linear-gradient(135deg, #dc3545, #c82333);
    }

    @media (max-width: 768px) {
      .container { padding: 15px; }
      .header h1 { font-size: 24px; }
      .tabs { grid-template-columns: 1fr; gap: 10px; }
      .tab { padding: 10px 14px; font-size: 13px; }
      .checkbox-group { grid-template-columns: 1fr; }
      .action-buttons { flex-direction: column; }
      .password-item { flex-direction: column; align-items: flex-start; gap: 10px; }
      .password-actions { width: 100%; justify-content: flex-end; }
      .section-title { font-size: 20px; }
      .saved-title { font-size: 18px; }
      .ad-container { max-width: 100%; padding: 10px; }
    }

    @media (max-width: 480px) {
      .container { padding: 10px; }
      .header { padding: 15px 0; }
      .header h1 { font-size: 20px; flex-direction: column; gap: 5px; }
      .header p { font-size: 14px; }
      .password-text { font-size: 14px; }
      .ad-container { max-width: 100%; height: auto; }
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    button:focus,
    input:focus,
    .tab:focus {
      outline: 3px solid #667eea;
      outline-offset: 2px;
    }

    @media print {
      body { background: white; }
      .container { box-shadow: none; height: auto; }
      .tabs, .ad-container { display: none; }
      button { display: none; }
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="header">
      <h1>
        <span>üîê</span>
        Password Generator
      </h1>
      <p>Generate secure passwords with custom options. Include uppercase, lowercase, numbers, and symbols.</p>
    </header>

    <div class="ad-container" id="adContainer" role="region" aria-label="Advertisement">
      <div id="ad1" class="ad-slot">
        <script async type="text/javascript">
          atOptions = {
            'key': '63718988f07bc6d276f3c6a441757cae',
            'format': 'iframe',
            'height': 90,
            'width': 728,
            'params': {}
          };
        </script>
        <script async type="text/javascript" src="//www.highperformanceformat.com/63718988f07bc6d276f3c6a441757cae/invoke.js"></script>
      </div>
      <div id="ad2" class="ad-slot">
        <script async type="text/javascript">
          atOptions = {
            'key': 'c620af328467e6de19dc04af696ee0fb',
            'format': 'iframe',
            'height': 250,
            'width': 300,
            'params': {}
          };
        </script>
        <script async type="text/javascript" src="//www.highperformanceformat.com/c620af328467e6de19dc04af696ee0fb/invoke.js"></script>
      </div>
      <div id="ad3" class="ad-slot">
        <script async type="text/javascript">
          atOptions = {
            'key': '78ade24182729fceea8e45203dad915b',
            'format': 'iframe',
            'height': 50,
            'width': 320,
            'params': {}
          };
        </script>
        <script async type="text/javascript" src="//www.highperformanceformat.com/78ade24182729fceea8e45203dad915b/invoke.js"></script>
      </div>
      <div class="ad-fallback">Advertisement not available</div>
    </div>

    <nav class="tabs" role="navigation" aria-label="Main navigation">
      <a href="https://webgamerstudio.github.io/Advanced-QR-Code-Tools/Home.html" class="tab" role="button" aria-label="Camera Scanner">
        <span>üì∑</span>
        <span>Camera Scanner</span>
      </a>
      <a href="https://webgamerstudio.github.io/Advanced-QR-Code-Tools/generator.html" class="tab" role="button" aria-label="QR Generator">
        <span>üîó</span>
        <span>QR Generator</span>
      </a>
      <a href="https://webgamerstudio.github.io/Advanced-QR-Code-Tools/upload.html" class="tab" role="button" aria-label="Upload Image">
        <span>üìÇ</span>
        <span>Upload Image</span>
      </a>
      <a href="https://webgamerstudio.github.io/Advanced-QR-Code-Tools/Home.html#history" class="tab" role="button" aria-label="Scan History">
        <span>üìä</span>
        <span>Scan History</span>
      </a>
    </nav>

    <main id="password" class="tab-content active">
      <h2 class="section-title">
        <span>üîê</span>
        Secure Password Generator
      </h2>
      
      <div class="password-display">
        <span class="password-text" id="passwordOutput">Generated password will appear here</span>
      </div>
      
      <div class="controls-section">
        <div class="control-group">
          <label class="control-label" for="lengthSlider">Length</label>
          <div class="slider-container">
            <input type="range" class="slider" id="lengthSlider" min="4" max="32" value="12" aria-label="Password length slider">
            <div class="length-display" id="lengthDisplay">12</div>
          </div>
        </div>
        
        <div class="control-group">
          <label class="control-label">Character Types</label>
          <div class="checkbox-group">
            <label class="checkbox-item">
              <input type="checkbox" id="uppercase" checked aria-label="Include uppercase letters">
              Uppercase
            </label>
            <label class="checkbox-item">
              <input type="checkbox" id="lowercase" checked aria-label="Include lowercase letters">
              Lowercase
            </label>
            <label class="checkbox-item">
              <input type="checkbox" id="numbers" checked aria-label="Include numbers">
              Numbers
            </label>
            <label class="checkbox-item">
              <input type="checkbox" id="symbols" checked aria-label="Include symbols">
              Symbols
            </label>
          </div>
        </div>
      </div>
      
      <div class="action-buttons">
        <button id="generateBtn" aria-label="Generate new password">Generate</button>
        <button class="btn-secondary" id="copyBtn" aria-label="Copy generated password">Copy</button>
        <button class="btn-save" id="saveBtn" aria-label="Save generated password">Save</button>
      </div>
      
      <div class="strength-meter">
        <div class="strength-label" id="strengthLabel">Password Strength</div>
        <div class="strength-bar">
          <div class="strength-fill" id="strengthFill"></div>
        </div>
      </div>
      
      <section class="saved-passwords">
        <h3 class="saved-title">Saved Passwords</h3>
        <button class="btn-copy-all" id="copyAllBtn" aria-label="Copy all saved passwords">Copy All</button>
        <div id="savedPasswordsList"></div>
      </section>
    </main>

    <div class="save-modal" id="saveModal">
      <div class="modal-content">
        <h3 class="modal-title">Save Password</h3>
        <input type="text" class="modal-input" id="passwordLabel" placeholder="Enter label (e.g., Email)" aria-label="Password label">
        <div class="modal-buttons">
          <button class="btn-secondary" id="cancelSaveBtn" aria-label="Cancel saving password">Cancel</button>
          <button id="confirmSaveBtn" aria-label="Confirm saving password">Save</button>
        </div>
      </div>
    </div>

    <div class="toast" id="toast"></div>
  </div>

  <script>
    class PasswordGenerator {
      constructor() {
        this.savedPasswords = JSON.parse(localStorage.getItem('savedPasswords') || '[]');
        this.initializeElements();
        this.bindEvents();
        this.generatePassword();
        this.renderSavedPasswords();
        this.initializeAds();
      }

      initializeElements() {
        this.lengthSlider = document.getElementById('lengthSlider');
        this.lengthDisplay = document.getElementById('lengthDisplay');
        this.uppercaseCheckbox = document.getElementById('uppercase');
        this.lowercaseCheckbox = document.getElementById('lowercase');
        this.numbersCheckbox = document.getElementById('numbers');
        this.symbolsCheckbox = document.getElementById('symbols');
        this.generateBtn = document.getElementById('generateBtn');
        this.copyBtn = document.getElementById('copyBtn');
        this.saveBtn = document.getElementById('saveBtn');
        this.copyAllBtn = document.getElementById('copyAllBtn');
        this.passwordOutput = document.getElementById('passwordOutput');
        this.strengthLabel = document.getElementById('strengthLabel');
        this.strengthFill = document.getElementById('strengthFill');
        this.toast = document.getElementById('toast');
        this.saveModal = document.getElementById('saveModal');
        this.passwordLabel = document.getElementById('passwordLabel');
        this.cancelSaveBtn = document.getElementById('cancelSaveBtn');
        this.confirmSaveBtn = document.getElementById('confirmSaveBtn');
        this.savedPasswordsList = document.getElementById('savedPasswordsList');
        this.adContainer = document.getElementById('adContainer');
        this.adSlots = this.adContainer.querySelectorAll('.ad-slot');
      }

      bindEvents() {
        this.lengthSlider.addEventListener('input', () => {
          this.lengthDisplay.textContent = this.lengthSlider.value;
          this.generatePassword();
        });

        [this.uppercaseCheckbox, this.lowercaseCheckbox, this.numbersCheckbox, this.symbolsCheckbox].forEach(checkbox => {
          checkbox.addEventListener('change', () => this.generatePassword());
        });

        this.generateBtn.addEventListener('click', () => this.generatePassword());
        this.copyBtn.addEventListener('click', () => this.copyToClipboard());
        this.saveBtn.addEventListener('click', () => this.openSaveModal());
        this.copyAllBtn.addEventListener('click', () => this.copyAllPasswords());
        this.cancelSaveBtn.addEventListener('click', () => this.closeSaveModal());
        this.confirmSaveBtn.addEventListener('click', () => this.savePassword());

        this.savedPasswordsList.addEventListener('click', (e) => {
          if (e.target.classList.contains('btn-copy')) {
            this.copyToClipboard(e.target.dataset.password);
          }
          if (e.target.classList.contains('btn-delete')) {
            this.deleteSavedPassword(e.target.dataset.id);
          }
        });
      }

      initializeAds() {
        const adSizes = [
          { width: 728, height: 90 },
          { width: 300, height: 250 },
          { width: 320, height: 50 }
        ];

        let loaded = false;
        this.adSlots.forEach((slot, index) => {
          const iframe = slot.querySelector('iframe');
          if (iframe) {
            iframe.addEventListener('load', () => {
              try {
                const content = iframe.contentWindow.document.body.innerHTML;
                if (content && !loaded) {
                  slot.classList.add('active');
                  this.adContainer.classList.add('active');
                  this.adContainer.style.width = `${adSizes[index].width}px`;
                  this.adContainer.style.height = `${adSizes[index].height}px`;
                  loaded = true;
                } else {
                  slot.style.display = 'none';
                }
              } catch (e) {
                slot.style.display = 'none';
              }
            });

            setTimeout(() => {
              if (!slot.classList.contains('active')) {
                slot.style.display = 'none';
                if (!loaded && index === this.adSlots.length - 1) {
                  this.adContainer.classList.add('no-ads');
                }
              }
            }, 5000);
          }
        });
      }

      generatePassword() {
        const length = this.lengthSlider.value;
        const uppercase = this.uppercaseCheckbox.checked;
        const lowercase = this.lowercaseCheckbox.checked;
        const numbers = this.numbersCheckbox.checked;
        const symbols = this.symbolsCheckbox.checked;

        if (!uppercase && !lowercase && !numbers && !symbols) {
          this.passwordOutput.textContent = 'Select at least one character type';
          this.showToast('Please select at least one character type!', 'error');
          this.updateStrengthMeter(0);
          return;
        }

        let chars = '';
        if (uppercase) chars += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
        if (lowercase) chars += 'abcdefghijklmnopqrstuvwxyz';
        if (numbers) chars += '0123456789';
        if (symbols) chars += '!@#$%^&*()_+~`|}{[]:;?><,./-=';

        let password = '';
        for (let i = 0; i < length; i++) {
          password += chars.charAt(Math.floor(Math.random() * chars.length));
        }

        this.passwordOutput.textContent = password;
        const strength = this.calculateStrength(password);
        this.updateStrengthMeter(strength);
      }

      calculateStrength(password) {
        let strength = 0;
        if (password.length > 12) strength += 2;
        if (/[A-Z]/.test(password)) strength += 1;
        if (/[a-z]/.test(password)) strength += 1;
        if (/[0-9]/.test(password)) strength += 1;
        if (/[^A-Za-z0-9]/.test(password)) strength += 1;
        return strength;
      }

      updateStrengthMeter(strength) {
        const labels = ['Very Weak', 'Weak', 'Medium', 'Strong', 'Very Strong'];
        this.strengthLabel.textContent = labels[strength] || 'Very Weak';
        this.strengthFill.style.width = (strength * 20) + '%';
        const classes = ['strength-weak', 'strength-weak', 'strength-fair', 'strength-good', 'strength-strong', 'strength-strong'];
        this.strengthFill.className = 'strength-fill ' + classes[strength];
      }

      copyToClipboard(password = this.passwordOutput.textContent) {
        if (password === 'Generated password will appear here' || password === 'Select at least one character type') {
          this.showToast('No password to copy!', 'error');
          return;
        }
        navigator.clipboard.writeText(password).then(() => {
          this.showToast('Copied to clipboard!', 'success');
        }).catch(() => {
          this.showToast('Failed to copy!', 'error');
        });
      }

      openSaveModal() {
        if (this.passwordOutput.textContent === 'Generated password will appear here' || 
            this.passwordOutput.textContent === 'Select at least one character type') {
          this.showToast('Generate a password first!', 'error');
          return;
        }
        this.saveModal.classList.add('active');
      }

      closeSaveModal() {
        this.saveModal.classList.remove('active');
        this.passwordLabel.value = '';
      }

      savePassword() {
        const label = this.passwordLabel.value.trim();
        const password = this.passwordOutput.textContent;
        if (!label) {
          this.showToast('Please enter a label!', 'error');
          return;
        }
        this.savedPasswords.push({ label, password });
        localStorage.setItem('savedPasswords', JSON.stringify(this.savedPasswords));
        this.renderSavedPasswords();
        this.closeSaveModal();
        this.showToast('Password saved!', 'success');
      }

      renderSavedPasswords() {
        this.savedPasswordsList.innerHTML = this.savedPasswords.length ? this.savedPasswords.map((p, index) => `
          <div class="password-item">
            <div class="password-info">
              <div class="password-value">${p.password}</div>
              <div class="password-meta">${p.label}</div>
            </div>
            <div class="password-actions">
              <button class="btn-small btn-copy" data-password="${p.password}" aria-label="Copy saved password">Copy</button>
              <button class="btn-small btn-delete" data-id="${index}" aria-label="Delete saved password">Delete</button>
            </div>
          </div>
        `).join('') : '<div class="empty-state">No saved passwords</div>';
      }

      deleteSavedPassword(id) {
        this.savedPasswords.splice(id, 1);
        localStorage.setItem('savedPasswords', JSON.stringify(this.savedPasswords));
        this.renderSavedPasswords();
        this.showToast('Password deleted!', 'success');
      }

      copyAllPasswords() {
        if (!this.savedPasswords.length) {
          this.showToast('No saved passwords to copy!', 'error');
          return;
        }
        const all = this.savedPasswords.map(p => p.password).join('\n');
        this.copyToClipboard(all);
      }

      showToast(message, type = 'success') {
        this.toast.textContent = message;
        this.toast.className = `toast show ${type}`;
        setTimeout(() => this.toast.classList.remove('show'), 3000);
      }
    }

    document.addEventListener('DOMContentLoaded', () => new PasswordGenerator());
  </script>
</body>
</html>